# 日期和时间的相关命令

------

[TOC]

------

## 1. date——显示或修改日期和时间

**直接执行date命令**将按照**系统默认的格式**显示日期和时间。由于date命令格式太多了，建议使用date --help查看帮助。这些格式都是使用%开头，并以"+"调用

```shell
[root@localhost ~]# date
2022年 03月 16日 星期三 09:56:12 CST
[root@localhost ~]# date +%F
2022-03-16
[root@localhost ~]# date +%T
10:00:49
[root@localhost ~]# date +"%F %T"
2022-03-16 10:02:06
```

## 2. hwclock——显示或修改硬件时钟

在Linux中存在两套时钟，使用date命令查看的是系统时钟，除此之外还有一套记录在计算机BIOS中的硬件时钟。由于系统自身原因，这两套时钟显示的时间往往不一致。如果需要修改时期和时间，只使用date命令还不够，还必须使用hwclock（hardware clock）命令来更新硬件时钟，因为每次系统重启，系统都会重新从BIOS中将时间读取出来，所以硬件时钟才是重要的时间依据。

| 操作       | 功能                   |
| ---------- | ---------------------- |
| hwclock    | 显示硬件时钟           |
| hwclock -w | 将系统时钟写入硬件时钟 |
| hwclock -s | 将硬件时钟写入系统时钟 |

## 3. cal——显示日历

```shell
[root@localhost ~]# cal
      三月 2022     
日 一 二 三 四 五 六
       1  2  3  4  5
 6  7  8  9 10 11 12
13 14 15 16 17 18 19
20 21 22 23 24 25 26
27 28 29 30 31

[root@localhost ~]# cal 2022
                               2022                               

        一月                   二月                   三月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
                   1          1  2  3  4  5          1  2  3  4  5
 2  3  4  5  6  7  8    6  7  8  9 10 11 12    6  7  8  9 10 11 12
 9 10 11 12 13 14 15   13 14 15 16 17 18 19   13 14 15 16 17 18 19
16 17 18 19 20 21 22   20 21 22 23 24 25 26   20 21 22 23 24 25 26
23 24 25 26 27 28 29   27 28                  27 28 29 30 31
30 31
        四月                   五月                   六月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
                1  2    1  2  3  4  5  6  7             1  2  3  4
 3  4  5  6  7  8  9    8  9 10 11 12 13 14    5  6  7  8  9 10 11
10 11 12 13 14 15 16   15 16 17 18 19 20 21   12 13 14 15 16 17 18
17 18 19 20 21 22 23   22 23 24 25 26 27 28   19 20 21 22 23 24 25
24 25 26 27 28 29 30   29 30 31               26 27 28 29 30

        七月                   八月                   九月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
                1  2       1  2  3  4  5  6                1  2  3
 3  4  5  6  7  8  9    7  8  9 10 11 12 13    4  5  6  7  8  9 10
10 11 12 13 14 15 16   14 15 16 17 18 19 20   11 12 13 14 15 16 17
17 18 19 20 21 22 23   21 22 23 24 25 26 27   18 19 20 21 22 23 24
24 25 26 27 28 29 30   28 29 30 31            25 26 27 28 29 30
31
        十月                  十一月                 十二月       
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
                   1          1  2  3  4  5                1  2  3
 2  3  4  5  6  7  8    6  7  8  9 10 11 12    4  5  6  7  8  9 10
 9 10 11 12 13 14 15   13 14 15 16 17 18 19   11 12 13 14 15 16 17
16 17 18 19 20 21 22   20 21 22 23 24 25 26   18 19 20 21 22 23 24
23 24 25 26 27 28 29   27 28 29 30            25 26 27 28 29 30 31
30 31
[root@localhost ~]# cal 5 2022
      五月 2022     
日 一 二 三 四 五 六
 1  2  3  4  5  6  7
 8  9 10 11 12 13 14
15 16 17 18 19 20 21
22 23 24 25 26 27 28
29 30 31
```

## 4. stat——查看文件的元数据（属性）

Linux中每个文件都包括两类数据，一类是数据本身，例如用cat、more、less等命令所查看的就是这类数据；另一类称为元数据（metadata），元数据用于描述文件的属性，主要包括文件的大小、储存位置、访问权限以及时间戳等信息。

```shell
[root@localhost ~]# stat /etc/passwd
  文件："/etc/passwd"
  大小：2309      	块：8          IO 块：4096   普通文件
设备：fd00h/64768d	Inode：17609844    硬链接：1
权限：(0644/-rw-r--r--)  Uid：(    0/    root)   Gid：(    0/    root)
环境：system_u:object_r:passwd_file_t:s0
最近访问：2022-03-15 20:40:10.934000060 +0800
最近更改：2022-03-07 16:14:26.497538986 +0800
最近改动：2022-03-07 16:14:26.497538986 +0800
创建时间：-
```

stat命令所查看的最后三行称为**文件的时间戳**，时间戳包含三种：

- 最近访问时间（access time）：查看、读取文件内容的时间
- 最近更改时间（modify time）：文件内容改变时间
- 最近改动时间（change time）：文件元数据改变时间

PS: 为避免对硬盘频繁的写入，Linux对时间戳的修改进行了优化，如果时间戳某两次变化的时间间隔非常短，那么系统将不会对时间戳进行修改。